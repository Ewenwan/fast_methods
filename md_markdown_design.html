<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>n-Dimensional Fast Methods: Library design</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">n-Dimensional Fast Methods
   &#160;<span id="projectnumber">0.7</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_markdown_design.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Library design </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We provide here a small overview of the software design choices.</p>
<h2>Criterions</h2>
<ul>
<li>Code easy to use for the user.</li>
<li>Avoid long and nested namespaces and variable names.</li>
<li>Create a hierarchy that allows to reuse the code.</li>
<li>Do not rely on weird C++ tricks.</li>
<li>Do not rely on too many dependencies.</li>
<li>Code flexibility and high performance.</li>
</ul>
<h2>Design</h2>
<ul>
<li>To reach high performance, <code>std::array</code> are mainly used.</li>
<li>To avoid many dependencies, C++11 was chosen.</li>
<li>To make the code easier to use, we only rely on Boost libraries and CImg (for visualization)</li>
<li>To reuse code as much as possible, solvers are grouped depending on how they work. FMM-based solvers have many common procedures. The same as FM2-based solvers.</li>
<li>Also, we tried to use the <code>information expert</code> pattern.</li>
<li>In order to reach the flexibility and high performance, we chose to use a combination of static (templates) and dynamic polymorphism. That is, all solvers inherit from the <a class="el" href="classSolver.html" title="Abstract class that serves as interface for the actual solvers implemented. It requires (at least) th...">Solver</a> class. However, <a class="el" href="classSolver.html" title="Abstract class that serves as interface for the actual solvers implemented. It requires (at least) th...">Solver</a> itself is templated depending the grid type.</li>
</ul>
<p>This way, the compiler can carry out tons of optimizations by knowing in advance the number of dimensions on the grid. Actually, presumably the performance is the same as if the operations were hardcoded for any number of dimensions.</p>
<p>FMM-based solvers, following the <code>policies</code> design patter, have other parameter templates that change the behaviour. Concretely, the heap types.</p>
<p>The dynamic polymorphism allows to use all solvers under a common interface, as the examples included.</p>
<div class="image">
<img src="solvers.png" alt="solvers.png"/>
<div class="caption">
Solvers hierarchy</div></div>
 <h2>Folder structure</h2>
<ul>
<li><b>cmake</b>: cmake helper files and modules.</li>
<li><b>data</b>: files and maps to test the code.<ul>
<li><b>alpha</b>: contains code the be refactorized and included in the library in the future.</li>
</ul>
</li>
<li><b>doc</b>: doxygen documentation.</li>
<li><b>examples</b>: examples to understand how to use the library.</li>
<li><b>include/fast_methods</b>: header files with most of the code, as the library is mostly templated.<ul>
<li><b>benchmark</b>: code for the benchmark tool.</li>
<li><b>console</b>: the console class, useful for printing and parsing arguments.</li>
<li><b>datastructures</b>: data types of the Fast Marching Method and other algorithms such as heaps or queues.</li>
<li><b>fm</b>: Fast Methods Algorithms.</li>
<li><b>fm2</b>: Fast Marching Square (<a class="el" href="classFM2.html" title="Implements the Fast Marching Square (FM2) planning algorithm. ">FM2</a>) algorithms.</li>
<li><b>gradientdescent</b>: gradient descent implementation to compute shortests paths from the Fast Methods outputs.</li>
<li><b>io</b>: input/output and visualization helper classes.</li>
<li><b>ndgridmap</b>: main container and types of the Fast Methods.</li>
<li><b>thirdparty</b>: others' software used.</li>
<li><b>utils</b>: utility functions used in the library.</li>
</ul>
</li>
<li><b>scripts</b>: matlab scripts to parse outputs and automatic benchmarking bash script.</li>
<li><b>src</b>: source code for non-templated classes. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Dec 8 2017 10:14:49 for n-Dimensional Fast Methods by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
